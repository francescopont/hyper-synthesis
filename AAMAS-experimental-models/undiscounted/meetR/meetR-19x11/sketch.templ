mdp

// 10 | .t.. .. . ....t   .
//  9 |    . .. . ..  ... .
//  8 | .... .  ...   . . .
//  7 |   .  .  . ..... ...
//  6 | ........t .....  .
//  5 | . . .   .     .  .
//  4 | i ... ......  .  .
//  3 |       .  .  ...  ..
//  2 |      ..  .  . .
//  1 |      .  ..  .....t.
//  0 | ..t...           .
//    ---------------------
//      ...................

formula up  = (x=5&y=0)|(x=8&y=0)|(x=9&y=0)|(x=12&y=0)|(x=13&y=0)|(x=14&y=0)|(x=15&y=0)|(x=16&y=0)|(x=17&y=0)|(x=18&y=0)|(x=5&y=1)|(x=6&y=1)|(x=9&y=1)|(x=12&y=1)|(x=14&y=1)|(x=6&y=2)|(x=9&y=2)|(x=12&y=2)|(x=13&y=2)|(x=14&y=2)|(x=17&y=2)|(x=18&y=2)|(x=0&y=3)|(x=2&y=3)|(x=3&y=3)|(x=4&y=3)|(x=6&y=3)|(x=7&y=3)|(x=8&y=3)|(x=9&y=3)|(x=10&y=3)|(x=11&y=3)|(x=14&y=3)|(x=17&y=3)|(x=0&y=4)|(x=2&y=4)|(x=4&y=4)|(x=8&y=4)|(x=14&y=4)|(x=17&y=4)|(x=0&y=5)|(x=1&y=5)|(x=2&y=5)|(x=3&y=5)|(x=4&y=5)|(x=5&y=5)|(x=6&y=5)|(x=7&y=5)|(x=8&y=5)|(x=10&y=5)|(x=11&y=5)|(x=12&y=5)|(x=13&y=5)|(x=14&y=5)|(x=17&y=5)|(x=2&y=6)|(x=5&y=6)|(x=8&y=6)|(x=10&y=6)|(x=11&y=6)|(x=12&y=6)|(x=13&y=6)|(x=14&y=6)|(x=16&y=6)|(x=17&y=6)|(x=18&y=6)|(x=0&y=7)|(x=1&y=7)|(x=2&y=7)|(x=3&y=7)|(x=5&y=7)|(x=8&y=7)|(x=9&y=7)|(x=10&y=7)|(x=14&y=7)|(x=16&y=7)|(x=18&y=7)|(x=3&y=8)|(x=5&y=8)|(x=6&y=8)|(x=8&y=8)|(x=10&y=8)|(x=11&y=8)|(x=14&y=8)|(x=15&y=8)|(x=16&y=8)|(x=18&y=8)|(x=0&y=9)|(x=1&y=9)|(x=2&y=9)|(x=3&y=9)|(x=5&y=9)|(x=6&y=9)|(x=8&y=9)|(x=10&y=9)|(x=11&y=9)|(x=12&y=9)|(x=13&y=9)|(x=14&y=9)|(x=18&y=9);

formula right  = (x=0&y=0)|(x=1&y=0)|(x=2&y=0)|(x=3&y=0)|(x=4&y=0)|(x=16&y=0)|(x=4&y=1)|(x=7&y=1)|(x=8&y=1)|(x=11&y=1)|(x=12&y=1)|(x=13&y=1)|(x=14&y=1)|(x=15&y=1)|(x=16&y=1)|(x=17&y=1)|(x=4&y=2)|(x=5&y=2)|(x=8&y=2)|(x=11&y=2)|(x=13&y=2)|(x=5&y=3)|(x=8&y=3)|(x=11&y=3)|(x=12&y=3)|(x=13&y=3)|(x=16&y=3)|(x=17&y=3)|(x=1&y=4)|(x=2&y=4)|(x=3&y=4)|(x=5&y=4)|(x=6&y=4)|(x=7&y=4)|(x=8&y=4)|(x=9&y=4)|(x=10&y=4)|(x=13&y=4)|(x=16&y=4)|(x=1&y=5)|(x=3&y=5)|(x=7&y=5)|(x=13&y=5)|(x=16&y=5)|(x=0&y=6)|(x=1&y=6)|(x=2&y=6)|(x=3&y=6)|(x=4&y=6)|(x=5&y=6)|(x=6&y=6)|(x=7&y=6)|(x=9&y=6)|(x=10&y=6)|(x=11&y=6)|(x=12&y=6)|(x=13&y=6)|(x=16&y=6)|(x=1&y=7)|(x=4&y=7)|(x=7&y=7)|(x=9&y=7)|(x=10&y=7)|(x=11&y=7)|(x=12&y=7)|(x=13&y=7)|(x=15&y=7)|(x=16&y=7)|(x=17&y=7)|(x=0&y=8)|(x=1&y=8)|(x=2&y=8)|(x=4&y=8)|(x=7&y=8)|(x=8&y=8)|(x=9&y=8)|(x=13&y=8)|(x=15&y=8)|(x=17&y=8)|(x=2&y=9)|(x=4&y=9)|(x=5&y=9)|(x=7&y=9)|(x=9&y=9)|(x=10&y=9)|(x=13&y=9)|(x=14&y=9)|(x=15&y=9)|(x=17&y=9)|(x=0&y=10)|(x=1&y=10)|(x=2&y=10)|(x=4&y=10)|(x=5&y=10)|(x=7&y=10)|(x=9&y=10)|(x=10&y=10)|(x=11&y=10)|(x=12&y=10)|(x=13&y=10)|(x=17&y=10);

formula down  = (x=0&y=1)|(x=1&y=1)|(x=2&y=1)|(x=3&y=1)|(x=4&y=1)|(x=5&y=1)|(x=17&y=1)|(x=5&y=2)|(x=8&y=2)|(x=9&y=2)|(x=12&y=2)|(x=13&y=2)|(x=14&y=2)|(x=15&y=2)|(x=16&y=2)|(x=17&y=2)|(x=18&y=2)|(x=5&y=3)|(x=6&y=3)|(x=9&y=3)|(x=12&y=3)|(x=14&y=3)|(x=6&y=4)|(x=9&y=4)|(x=12&y=4)|(x=13&y=4)|(x=14&y=4)|(x=17&y=4)|(x=18&y=4)|(x=0&y=5)|(x=2&y=5)|(x=3&y=5)|(x=4&y=5)|(x=6&y=5)|(x=7&y=5)|(x=8&y=5)|(x=9&y=5)|(x=10&y=5)|(x=11&y=5)|(x=14&y=5)|(x=17&y=5)|(x=0&y=6)|(x=2&y=6)|(x=4&y=6)|(x=8&y=6)|(x=14&y=6)|(x=17&y=6)|(x=0&y=7)|(x=1&y=7)|(x=2&y=7)|(x=3&y=7)|(x=4&y=7)|(x=5&y=7)|(x=6&y=7)|(x=7&y=7)|(x=8&y=7)|(x=10&y=7)|(x=11&y=7)|(x=12&y=7)|(x=13&y=7)|(x=14&y=7)|(x=17&y=7)|(x=2&y=8)|(x=5&y=8)|(x=8&y=8)|(x=10&y=8)|(x=11&y=8)|(x=12&y=8)|(x=13&y=8)|(x=14&y=8)|(x=16&y=8)|(x=17&y=8)|(x=18&y=8)|(x=0&y=9)|(x=1&y=9)|(x=2&y=9)|(x=3&y=9)|(x=5&y=9)|(x=8&y=9)|(x=9&y=9)|(x=10&y=9)|(x=14&y=9)|(x=16&y=9)|(x=18&y=9)|(x=3&y=10)|(x=5&y=10)|(x=6&y=10)|(x=8&y=10)|(x=10&y=10)|(x=11&y=10)|(x=14&y=10)|(x=15&y=10)|(x=16&y=10)|(x=18&y=10);

formula left   = (x=1&y=0)|(x=2&y=0)|(x=3&y=0)|(x=4&y=0)|(x=5&y=0)|(x=6&y=0)|(x=18&y=0)|(x=6&y=1)|(x=9&y=1)|(x=10&y=1)|(x=13&y=1)|(x=14&y=1)|(x=15&y=1)|(x=16&y=1)|(x=17&y=1)|(x=18&y=1)|(x=6&y=2)|(x=7&y=2)|(x=10&y=2)|(x=13&y=2)|(x=15&y=2)|(x=7&y=3)|(x=10&y=3)|(x=13&y=3)|(x=14&y=3)|(x=15&y=3)|(x=18&y=3)|(x=1&y=4)|(x=3&y=4)|(x=4&y=4)|(x=5&y=4)|(x=7&y=4)|(x=8&y=4)|(x=9&y=4)|(x=10&y=4)|(x=11&y=4)|(x=12&y=4)|(x=15&y=4)|(x=18&y=4)|(x=1&y=5)|(x=3&y=5)|(x=5&y=5)|(x=9&y=5)|(x=15&y=5)|(x=18&y=5)|(x=1&y=6)|(x=2&y=6)|(x=3&y=6)|(x=4&y=6)|(x=5&y=6)|(x=6&y=6)|(x=7&y=6)|(x=8&y=6)|(x=9&y=6)|(x=11&y=6)|(x=12&y=6)|(x=13&y=6)|(x=14&y=6)|(x=15&y=6)|(x=18&y=6)|(x=3&y=7)|(x=6&y=7)|(x=9&y=7)|(x=11&y=7)|(x=12&y=7)|(x=13&y=7)|(x=14&y=7)|(x=15&y=7)|(x=17&y=7)|(x=18&y=7)|(x=1&y=8)|(x=2&y=8)|(x=3&y=8)|(x=4&y=8)|(x=6&y=8)|(x=9&y=8)|(x=10&y=8)|(x=11&y=8)|(x=15&y=8)|(x=17&y=8)|(x=4&y=9)|(x=6&y=9)|(x=7&y=9)|(x=9&y=9)|(x=11&y=9)|(x=12&y=9)|(x=15&y=9)|(x=16&y=9)|(x=17&y=9)|(x=1&y=10)|(x=2&y=10)|(x=3&y=10)|(x=4&y=10)|(x=6&y=10)|(x=7&y=10)|(x=9&y=10)|(x=11&y=10)|(x=12&y=10)|(x=13&y=10)|(x=14&y=10)|(x=15&y=10);

const int x0_init = 0;
const int y0_init = 4;

const int x1_init = 6;
const int y1_init = 5;

formula yu = up  ? (y+1) : y;
formula xr = right  ? (x+1) : x;
formula yd = down  ? (y-1) : y;
formula xl = left   ? (x-1) : x;

module maze
	 x : [0..18];
	 y : [0..10];
	[up] up     -> 0.9: (y'=yu) + 0.1: (x'=xr);
	[ri] right  -> 0.9: (x'=xr) + 0.1: (y'=yd);
	[do] down   -> 0.9: (y'=yd) + 0.1: (x'=xl);
	[le] left   -> 0.9: (x'=xl) + 0.1: (y'=yu);
endmodule

init (((x=x0_init & y=y0_init) | (x=x1_init & y=y1_init))) endinit

formula t0 = (x=2&y=0);
formula t1 = (x=17&y=1);
formula t2 = (x=8&y=6);
formula t3 = (x=1&y=10);
formula t4 = (x=14&y=10);

rewards "cost"
    true : max(1, 12 - 2*x + 3*y);
endrewards

label "treasure" = (t0 | t1 | t2 | t3 | t4);
label "start0" = (x=x0_init & y=y0_init);
label "start1" = (x=x1_init & y=y1_init);
